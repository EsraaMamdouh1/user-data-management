# User Data Management System

This repository contains a Python script for managing user data with the option to store user information both locally in a file and in a SQL database. The system supports functionalities for adding new users, displaying all users, and searching for users by their User ID.

## Files in the Repository

- **`user_data_script.py`**: The main script that handles user data operations, including adding, displaying, and searching users. It manages data both in a local JSON file and a SQL database.
  
- **`user_database.sql`**: SQL script for setting up the SQL database. It creates the `UserDatabase` and the `Users` table if they do not already exist.
  
- **`generate_key.py`**: Python script to generate a key for data encryption and decryption using the `cryptography` library.
  
- **`user_data.txt`**: A JSON file used to store encrypted user data locally.

## How to Run the Program

1. **Set Up the SQL Database:**

   - Run the `user_database.sql` script on your SQL Server to create the necessary database and table.

2. **Generate an Encryption Key:**

   - Run `generate_key.py` to generate an encryption key required for data encryption. Copy the generated key and update the `KEY` variable in `user_data_script.py` with this key.

   ```bash
   python generate_key.py

3. **Install Required Python Packages:**

   Ensure you have the required Python packages installed. You can install them using `pip`.

   ```bash
   pip install pyodbc cryptography

4. **Run the Main Script:**

   - To start the user data management system, run the `user_data_script.py` script. This script will present a menu with options to manage user data.

   ```bash
   python user_data_script.py

### Additional Features

- **Encryption**: 
  - User data is encrypted before being saved to the `user_data.txt` file. This ensures the privacy and security of sensitive information. The encryption process uses the `cryptography` library, and the key used for encryption and decryption is generated by the `generate_key.py` script.

- **Database Integration**: 
  - The script supports storing user data in both a local file and a SQL database. This dual-storage approach provides flexibility in managing and accessing user information. The SQL database is set up using the `user_database.sql` script, and the `pyodbc` library is used to interact with the database.

- **Input Validation**: 
  - The script includes robust input validation to ensure that user data is unique, correctly formatted, and adheres to expected standards. This includes checks for the uniqueness of User IDs, proper data formats for fields like age and year of birth, and validation of gender input. This helps prevent errors and maintains data integrity.

### Setting Up the SQL Database

1. **Install SQL Server**:
   - Ensure you have SQL Server installed on your machine. If you do not have it installed, you can download and install it from the [official Microsoft website](https://www.microsoft.com/en-us/sql-server/sql-server-downloads).

2. **Create Database and Table**:
   - Use SQL Server Management Studio (SSMS) or another SQL client to run the `user_database.sql` script.
   - The script will:
     - Create a database named `UserDatabase` if it does not already exist.
     - Create a table named `Users` within the `UserDatabase` if it does not already exist.

### Usage

- **Add New User**: 
  - Choose option 1 from the menu, then enter the required user details.

- **Display All Users from File**:
  - Choose option 2 to display users stored in `user_data.txt`.

- **Display All Users from Database**:
  - Choose option 3 to display users stored in the SQL database.

- **Search for User by User ID**:
  - Choose option 4 to search for a user by User ID in the SQL database.

- **Exit**:
  - Choose option 5 to exit the program.

### Troubleshooting

- **Database Connection Issues**: 
  - Ensure that SQL Server is running and that the connection details in `user_data_script.py` match your SQL Server configuration.

- **File Access Issues**: 
  - Make sure that the `user_data.txt` file is accessible and not being used by another process.

- **Encryption Key Issues**: 
  - If you encounter issues with encryption, ensure that the key used in `user_data_script.py` is the one generated by `generate_key.py`.

### License

This project is licensed under the MIT License. See the `LICENSE` file for details.


